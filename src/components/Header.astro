---
import Navigation from '../components/Navigation.astro'
import { Image } from 'astro:assets'
import logo from '../assets/logo.png'
import { url } from '../scripts/url'
---

<header
  class="sticky top-0 w-full z-50 bg-white md:bg-opacity-90 flex flex-col px-5 md:px-10 p-4 backdrop-blur-sm justify-between"
>
  <div class="inline-flex justify-between items-center w-full">
    {/* Site branding */}
    <section class="flex-shrink-0 mr-4 inline-flex">
      {/* Logo */}
      <a class="flex text-transparent" aria-label="Cruip" href=`${url}/`>
        <div
          class="h-10 w-10 bg-gradient-to-br from-blue-500 to-teal-300 rounded-full transition-opacity delay-300"
        >
        </div>
        <Image src={logo} alt="logo" class="h-10 w-10 absolute rounded-md" />
      </a>
      <div class="md:flex items-center hidden">
        <Navigation />
      </div>
    </section>
    <section>
      <ul class="flex flex-grow gap-5 justify-end flex-wrap items-center">
        <a
          href=`${url}/#contactcard`
          class="font-medium w-1/3 text-stone-600 hover:text-stone-900 px-5 py-3 flex items-center transition duration-150 ease-in-out"
        >
          Contacto
        </a>
        <a
          href="https://maps.google.com/maps/dir//El%C3%A9ctrica+Y+Plomer%C3%ADa+Hidalgo+Av+Insurgentes+1139+Miguel+Hidalgo+62748+Cuautla,+Mor./@18.8412411,-98.9416335,15z/data=!4m5!4m4!1m0!1m2!1m1!1s0x85ce6edca59e70e7:0xa0eab80dddbe7ffb"
          class="btn-sm text-stone-200 bg-stone-900 hover:bg-stone-800 ml-3 inline-flex justify-center items-center p-2 px-2 md:px-5 rounded-md"
          target="_blank"
          rel="noreferrer"
        >
          <span>Como llegar</span>
          <svg
            class="w-3 h-3 fill-current text-stone-400 flex-shrink-0 ml-2 -mr-1"
            viewBox="0 0 12 12"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z"
              fill-rule="nonzero"></path>
          </svg>
        </a>
      </ul>
    </section>
    <svg
      id="burger"
      xmlns="http://www.w3.org/2000/svg"
      class="icon icon-tabler icon-tabler-menu-2 md:hidden ml-2"
      width="35"
      height="35"
      viewBox="0 0 24 24"
      stroke-width="2"
      stroke="currentColor"
      fill="none"
      stroke-linecap="round"
      stroke-linejoin="round"
      ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
        d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"
      ></path></svg
    >
  </div>
  <!-- nav movil -->
  <div
    class="md:hidden border-t mt-2 pt-3 hidden-nav flex justify-center"
    id="navbar"
  >
    <Navigation />
  </div>
  <script>
    document.addEventListener('astro:page-load', () => {
      const burger = document.querySelector('#burger')
      const nav = document.querySelector('#navbar')
      burger.addEventListener('click', () => {
        nav.classList.toggle('hidden-nav')
        console.log('click, escondiendo')
      })
    })
  </script>
</header>

<style>
  @keyframes sh {
    from {
      box-shadow: 1px 1px 10px 0 rgba(0, 0, 0, 0);
    }
    to {
      box-shadow: 1px 1px 20px 0 rgba(0, 0, 0, 0.5);
    }
  }

  .hidden-nav {
    display: none;
  }

  header {
    view-timeline-name: --bar;
    view-timeline-axis: block;

    animation-timeline: --bar;
    animation-name: sh;

    animation-range: entry 10% cover 90%;
    animation-fill-mode: both;
    animation-delay: 500ms;
  }
</style>
